<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_quotation_print">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-if="o.odx_header">
                    <t t-call="web.external_layout">
                        <style>
                            @font-face {
                            font-family: 'Tajawal-Black';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-Black.ttf)
                            format('opentype');
                            }
                            @font-face {
                            font-family: 'Tajawal-Bold';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-Bold.ttf)
                            format('opentype');
                            }
                            @font-face {
                            font-family: 'Tajawal-ExtraBold';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-ExtraBold.ttf) format('opentype');
                            }
                            @font-face {
                            font-family: 'ExtraLigh';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-ExtraLigh.ttf) format('opentype');
                            }
                            @font-face {
                            font-family: 'Tajawal-Light';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-Light.ttf)
                            format('opentype');
                            }
                            @font-face {
                            font-family: 'Tajawal-Medium';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-Medium.ttf)
                            format('opentype');
                            }
                            @font-face {
                            font-family: 'Tajawal-Regular';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-Regular.ttf) format('opentype');
                            }
                            .regular{
                            font-family: Tajawal-Regular;
                            }
                            .black{
                            font-family: Tajawal-Black !important;
                            /font-weight: bold;/
                            }
                            .light{
                            font-family: Tajawal-Light;
                            }
                            .address_block span{
                            line-height: initial !important;
                            }
                            .table-border {
                            border: 1px solid !important;
                            }
                            table{
                            margin-bottom: 1px !important;
                            }
                            .product_block td{
                            border-right: 1px solid;
                            border-left: 1px solid;
                            border-bottom: 1px solid;

                            border-top: 0px !important;
                            padding: 5px 0px 5px 0px !important;
                            }
                        </style>
                        <div class="page">
                            <h2 style="text-align:center;">

                                <!--                            7:35:33    <span t-if="o.state not in ['draft','sent']">Order</span>-->
                                <span>
                                    <b>
                                        <u>Quotation</u>
                                    </b>
                                </span>

                            </h2>
                            <div class="row">
                                <div class="col-12">
                                    <table style="border:1px solid black;margin-left: auto;margin-right: auto;"
                                           width="100%">
                                        <tr>
                                            <td class="table-border" style="padding-left:5px">
                                                <span t-field="o.company_id"/>
                                                <br/>
                                                <span t-field="o.company_id.street"/>
                                                <span t-field="o.company_id.zip"/>
                                                <span t-field="o.company_id.city"/>
                                                <br/>
                                                <span t-field="o.company_id.country_id"/>
                                            </td>
                                            <td class="table-border" style="padding-left:5px">
                                                <span>Date :</span>
                                                <span t-field="o.quote_date"/>
                                                <br/>
                                                <span>Quotation Number :</span>
                                                <span t-field="o.name"/>
                                                <br/>
                                                <t t-if="o.validity_date">
                                                    <span>Validity :</span>
                                                    <span t-field="o.validity_date"/>Days
                                                </t>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="table-border" style="padding-left:5px">
                                                <span>Customer Name :</span>
                                                <span t-field="o.customer_name"/>
                                                <br/>
                                                <span>Address :</span>
                                                <span t-field="o.street"/>
                                                <span t-field="o.zip"/>
                                                <span t-field="o.city"/>
                                                <br/>
                                                <span t-field="o.country_id"/>
                                                <br/>
                                                <span>Telephone :</span>
                                                <span t-field="o.customer_name.phone"/>
                                                <br/>
                                                <span>Email :</span>
                                                <span t-field="o.customer_name.email"/>
                                            </td>
                                            <td class="table-border" style="padding-left:5px">

                                                <span t-if="o.machine_serial_number">Serial Number :</span>
                                                <span t-field="o.machine_serial_number"/>
                                                <br/>
                                                <span t-if="o.odx_gate_pass_no">Gate Pass No :</span>
                                                <span t-field="o.odx_gate_pass_no"/>
                                                <br/>
                                                <span t-if="o.odx_sales_man.odx_sales_id">Sales ID :</span>
                                                <span t-field="o.odx_sales_man.odx_sales_id"/>
                                                <br/>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <br/>
                            <b>Equipment Details</b>
                            <div>
                                <table width="100%">
                                    <t t-set="sl" t-value="0"/>
                                    <tr align="center">
                                            <td width="5%" name="th_no" class="text-center table-border">Sl.No
                                            </td>
                                            <td width="15%" name="th_description"
                                                class="text-center table-border">Type
                                                of Service
                                            </td>
                                            <td name="th_qty" class="text-center table-border">Qty
                                            </td>
                                            <td name="th_unitprice" class="text-center table-border">Unit
                                                Price
                                            </td>
                                            <t t-set="dis_count" t-value="0"/>
                                            <t t-foreach="o.work_quotation_line_ids" t-as="line">
                                                <t t-if="not line.display_type == 'line_section'">
                                                    <t t-if="line.discount>0">
                                                        <t t-set="dis_count" t-value="dis_count + 1"/>
                                                    </t>
                                                </t>
                                            </t>
                                            <t t-if="dis_count>0">
                                                <td name="th_discount" class="text-center table-border">Disc</td>
                                            </t>
                                            <td name="th_netprice" class="text-center table-border">Net
                                                Price
                                            </td>
                                                    <td name="th_vat" class="text-center table-border">VAT Amount</td>
                                            <td name="th_total" class="text-center table-border">Total
                                            </td>
                                        </tr>
                                    <tr>
                                        <t t-foreach="o.work_quotation_line_ids" t-as="line">
                                            <t t-if="line.display_type == 'line_section'">
                                                <t t-set="sl" t-value="0"/>
                                                <td colspan="8" class="table-border">
                                                    <b><span t-esc="line.name"/></b>
                                                </td><br/>

                                            </t>
                                            <t t-else="">

                                                    <tr align="center">
                                                    <t t-set="sl" t-value="sl + 1"/>
                                                    <td class="table-border">
                                                        <span t-esc="sl"/>
                                                    </td>
                                                    <td class="table-border">
                                                        <span t-field="line.product_id"/>
                                                    </td>
                                                    <td class="table-border">
                                                        <span t-field="line.product_uom_qty"/>
                                                    </td>
                                                    <td class="table-border">
                                                        <span t-field="line.price_unit"/>
                                                    </td>
                                                    <t t-if="dis_count>0">
                                                        <td class="table-border">
                                                            <span t-field="line.discount"/>
                                                        </td>
                                                    </t>

                                                    <td class="table-border">
                                                        <span t-field="line.price_subtotal"/>
                                                    </td>
                                                        <td class="table-border">
                                                        <span t-esc="'%.3f'% line.price_tax"/>
                                                    </td>
                                                    <td class="table-border">
                                                        <span t-field="line.price_total"/>
                                                    </td>
                                                </tr>
                                            </t>
                                        </t>
                                    </tr>
                                </table>
                            </div>
                            <br/>
                            <table width="100%">
                                <b>Scope of Work</b>
                                <tr width="100%">
                                    <td height="40"
                                        style="font-size: 15px;padding-left: 15px">
                                        <span t-field="o.scope_of_work_description"/>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <table width="100%">
                                <b>Testing &amp; Inspection</b>
                                <tr width="100%">
                                    <td height="60"
                                        style="font-size: 15px;padding-left: 15px">
                                        <span t-field="o.odx_testing"/>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <table width="100%">
                                <b>Extend of Quote
                                </b>
                                <tr width="100%">
                                    <td height="60"
                                        style="font-size: 15px;padding-left: 15px;">
                                        <span t-field="o.odx_extend_of_quote"/>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <table width="100%">
                                <tr>
                                    <b>Terms &amp; Contiions
                                    </b>
                                </tr>
                                <tr width="100%">
                                    <td height="60"
                                        style="padding-left: 15px ">
                                        <span t-field="o.odx_terms_and_condition"/>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <br/>
                            <br/>
                            <table class="table table-sm">
                                <tr>
                                    <th style="text-align:left">
                                        <b>Details</b>
                                    </th>
                                </tr>
                                <tr>
                                    <td>Price :
                                        <t t-esc="o.amount_total"
                                           t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                    </td>
                                </tr>
                                <tr>
                                    <t t-if="o.sale_order_id.payment_term_id">
                                    <td>
                                        Payment Terms:
                                        <span t-field="o.sale_order_id.payment_term_id"/>
                                    </td>
                                    </t>
                                </tr>
                                <tr>
                                    <t t-if="o.sale_order_id.invoice_ids">
                                    <td>
                                        Payment Method:
                                        <t t-if="o.sale_order_id.invoice_ids">
                                            <t t-foreach="o.sale_order_id.invoice_ids" t-as="invoice">
                                                <t t-set="payments_vals" t-value="invoice.sudo()._get_reconciled_info_JSON_values()"/>
                                                <t t-foreach="payments_vals" t-as="payment_vals">
                                                    <span t-esc="payment_vals['journal_name']"/> &#160;
                                                </t>
                                            </t>
                                        </t>
                                    </td>
                                    </t>
                                </tr>
                                <tr>
                                    <t t-if="o.odx_warranty">
                                    <td>
                                        Warranty :
                                        <span t-field="o.odx_warranty"/>
                                        Days
                                    </td>
                                    </t>
                                </tr>
                                <tr>
                                    <t t-if="o.sale_order_id.commitment_date">
                                    <td>
                                        Delivery:
                                        <span t-field="o.sale_order_id.commitment_date" t-options='{"format": "MM/dd/yyyy"}'/>
                                    </td>
                                    </t>
                                </tr>
                            </table>
                            <table>
                                <br/>
                                <br/>
                            </table>
                            <br/>
                            <table width="100%">
                                <tr>
                                    <td style="float:left;width:25%;text-align:center;border-top: 2px solid black">
                                        <b>Prepared By:</b>
                                    </td>
                                    <td style="float:right;width:25%;text-align:center;border-top: 2px solid black">
                                        <b>Approved By</b>
                                    </td>
                                    <br/>
                                    <br/>
                                    <tr>
                                        <td>Name :
                                            <t t-esc="o.signed_name"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Telephone :
                                            <t t-esc="o.telephone"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Signature :
                                            <t t-if="o.digital_signature">
                                                <img t-att-src="image_data_uri(o.digital_signature)"
                                                     style="max-height: 4cm; max-width: 8cm;"/>
                                            </t>
                                        </td>
                                    </tr>

                                </tr>
                            </table>
                        </div>
                    </t>
                </t>
                <t t-else="">
                    <t t-call="odx_report_customisation.report_header_minimal_hiba_ntg">
                    </t>
                    <t t-call="web.external_layout">
                        <style>
                            @font-face {
                            font-family: 'Tajawal-Black';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-Black.ttf)
                            format('opentype');
                            }
                            @font-face {
                            font-family: 'Tajawal-Bold';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-Bold.ttf)
                            format('opentype');
                            }
                            @font-face {
                            font-family: 'Tajawal-ExtraBold';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-ExtraBold.ttf) format('opentype');
                            }
                            @font-face {
                            font-family: 'ExtraLigh';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-ExtraLigh.ttf) format('opentype');
                            }
                            @font-face {
                            font-family: 'Tajawal-Light';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-Light.ttf)
                            format('opentype');
                            }
                            @font-face {
                            font-family: 'Tajawal-Medium';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-Medium.ttf)
                            format('opentype');
                            }
                            @font-face {
                            font-family: 'Tajawal-Regular';
                            src: local('Tajawal'), local('Tajawal'),
                            url(/arabic_taxable_invoice_knk/static/src/fonts/Tajawal-Regular.ttf) format('opentype');
                            }
                            .regular{
                            font-family: Tajawal-Regular;
                            }
                            .black{
                            font-family: Tajawal-Black !important;
                            /font-weight: bold;/
                            }
                            .light{
                            font-family: Tajawal-Light;
                            }
                            .address_block span{
                            line-height: initial !important;
                            }
                            .table-border {
                            border: 1px solid !important;
                            }
                            table{
                            margin-bottom: 1px !important;
                            }
                            .product_block td{
                            border-right: 1px solid;
                            border-left: 1px solid;
                            border-bottom: 1px solid;

                            border-top: 0px !important;
                            padding: 5px 0px 5px 0px !important;
                            }
                        </style>
                        <div class="page">
                            <h2 style="text-align:center;">
                                <span>
                                    <b>
                                        <u>Quotation</u>
                                    </b>
                                </span>

                            </h2>
                            <div class="row">
                                <div class="col-12">
                                    <table style="border:1px solid black;margin-left: auto;margin-right: auto;"
                                           width="100%">
                                        <tr>
                                            <td class="table-border" style="padding-left:5px">
                                                <span t-field="o.company_id"/>
                                                <br/>
                                                <span t-field="o.company_id.street"/>
                                                <span t-field="o.company_id.zip"/>
                                                <span t-field="o.company_id.city"/>
                                                <br/>
                                                <span t-field="o.company_id.country_id"/>
                                            </td>
                                            <td class="table-border" style="padding-left:5px">
                                                <span>Date :</span>
                                                <span t-field="o.quote_date"/>
                                                <br/>
                                                <span>Quotation Number :</span>
                                                <span t-field="o.name"/>
                                                <br/>
                                                <t t-if="o.validity_date">
                                                    <span>Validity :</span>
                                                    <span t-field="o.validity_date"/>Days
                                                </t>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="table-border" style="padding-left:5px">
                                                <span>Customer Name :</span>
                                                <span t-field="o.customer_name"/>
                                                <br/>
                                                <span>Address :</span>
                                                <span t-field="o.street"/>
                                                <span t-field="o.zip"/>
                                                <span t-field="o.city"/>
                                                <br/>
                                                <span t-field="o.country_id"/>
                                                <br/>
                                                <span>Telephone :</span>
                                                <span t-field="o.customer_name.phone"/>
                                                <br/>
                                                <span>Email :</span>
                                                <span t-field="o.customer_name.email"/>
                                            </td>
                                            <td class="table-border" style="padding-left:5px">

                                                <span t-if="o.machine_serial_number">Serial Number :</span>
                                                <span t-field="o.machine_serial_number"/>
                                                <br/>
                                                <span t-if="o.odx_gate_pass_no">Gate Pass No :</span>
                                                <span t-field="o.odx_gate_pass_no"/>
                                                <br/>
                                                <span t-if="o.odx_sales_man.odx_sales_id">Sales ID :</span>
                                                <span t-field="o.odx_sales_man.odx_sales_id"/>
                                                <br/>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <br/>
                            <b>Equipment Details</b>
                            <div>
                                <table width="100%">
                                    <t t-set="sl" t-value="0"/>
                                    <tr align="center">
                                            <td width="5%" name="th_no" class="text-center table-border">Sl.No
                                            </td>
                                            <td width="15%" name="th_description"
                                                class="text-center table-border">Type
                                                of Service
                                            </td>
                                            <td name="th_qty" class="text-center table-border">Qty
                                            </td>
                                            <td name="th_unitprice" class="text-center table-border">Unit
                                                Price
                                            </td>
                                            <t t-set="dis_count" t-value="0"/>
                                            <t t-foreach="o.work_quotation_line_ids" t-as="line">
                                                <t t-if="not line.display_type == 'line_section'">
                                                    <t t-if="line.discount>0">
                                                        <t t-set="dis_count" t-value="dis_count + 1"/>
                                                    </t>
                                                </t>
                                            </t>
                                            <t t-if="dis_count>0">
                                                <td name="th_discount" class="text-center table-border">Disc</td>
                                            </t>
                                            <td name="th_netprice" class="text-center table-border">Net
                                                Price
                                            </td>
                                                    <td name="th_vat" class="text-center table-border">VAT Amount</td>
                                            <td name="th_total" class="text-center table-border">Total
                                            </td>
                                        </tr>
                                    <tr>
                                        <t t-foreach="o.work_quotation_line_ids" t-as="line">
                                            <t t-if="line.display_type == 'line_section'">
                                                <t t-set="sl" t-value="0"/>
                                                <td colspan="8" class="table-border">
                                                    <b><span t-esc="line.name"/></b>
                                                </td><br/>

                                            </t>
                                            <t t-else="">

                                                    <tr align="center">
                                                    <t t-set="sl" t-value="sl + 1"/>
                                                    <td class="table-border">
                                                        <span t-esc="sl"/>
                                                    </td>
                                                    <td class="table-border">
                                                        <span t-field="line.product_id"/>
                                                    </td>
                                                    <td class="table-border">
                                                        <span t-field="line.product_uom_qty"/>
                                                    </td>
                                                    <td class="table-border">
                                                        <span t-field="line.price_unit"/>
                                                    </td>
                                                    <t t-if="dis_count>0">
                                                        <td class="table-border">
                                                            <span t-field="line.discount"/>
                                                        </td>
                                                    </t>

                                                    <td class="table-border">
                                                        <span t-field="line.price_subtotal"/>
                                                    </td>
                                                        <td class="table-border">
                                                        <span t-esc="'%.3f'% line.price_tax"/>
                                                    </td>
                                                    <td class="table-border">
                                                        <span t-field="line.price_total"/>
                                                    </td>
                                                </tr>
                                            </t>
                                        </t>
                                    </tr>
                                </table>
                            </div>
                            <br/>
                            <table width="100%">
                                <b>Scope of Work</b>
                                <tr width="100%">
                                    <td height="40"
                                        style="font-size: 15px;padding-left: 15px">
                                        <span t-field="o.scope_of_work_description"/>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <table width="100%">
                                <b>Testing &amp; Inspection</b>
                                <tr width="100%">
                                    <td height="60"
                                        style="font-size: 15px;padding-left: 15px">
                                        <span t-field="o.odx_testing"/>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <table width="100%">
                                <b>Extend of Quote
                                </b>
                                <tr width="100%">
                                    <td height="60"
                                        style="font-size: 15px;padding-left: 15px;">
                                        <span t-field="o.odx_extend_of_quote"/>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <table width="100%">
                                <tr>
                                    <b>Terms &amp; Contiions
                                    </b>
                                </tr>
                                <tr width="100%">
                                    <td height="60"
                                        style="padding-left: 15px ">
                                        <span t-field="o.odx_terms_and_condition"/>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <br/>
                            <br/>
                            <table class="table table-sm">
                                <tr>
                                    <th style="text-align:left">
                                        <b>Details</b>
                                    </th>
                                </tr>
                                <tr>
                                    <td>Price :
                                        <t t-esc="o.amount_total"
                                           t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                                    </td>
                                </tr>
                                <tr>
                                    <t t-if="o.sale_order_id.payment_term_id">
                                    <td>
                                        Payment Terms:
                                        <span t-field="o.sale_order_id.payment_term_id"/>
                                    </td>
                                    </t>
                                </tr>
                                <tr>
                                    <t t-if="o.sale_order_id.invoice_ids">
                                    <td>
                                        Payment Method:
                                        <t t-if="o.sale_order_id.invoice_ids">
                                            <t t-foreach="o.sale_order_id.invoice_ids" t-as="invoice">
                                                <t t-set="payments_vals" t-value="invoice.sudo()._get_reconciled_info_JSON_values()"/>
                                                <t t-foreach="payments_vals" t-as="payment_vals">
                                                    <span t-esc="payment_vals['journal_name']"/> &#160;
                                                </t>
                                            </t>
                                        </t>
                                    </td>
                                    </t>
                                </tr>
                                <tr>
                                    <t t-if="o.odx_warranty">
                                    <td>
                                        Warranty :
                                        <span t-field="o.odx_warranty"/>
                                        Days
                                    </td>
                                    </t>
                                </tr>
                                <tr>
                                    <t t-if="o.sale_order_id.commitment_date">
                                    <td>
                                        Delivery:
                                        <span t-field="o.sale_order_id.commitment_date" t-options='{"format": "MM/dd/yyyy"}'/>
                                    </td>
                                    </t>
                                </tr>
                            </table>
                            <table>
                                <br/>
                                <br/>
                            </table>
                            <br/>
                            <table width="100%">
                                <tr>
                                    <td style="float:left;width:25%;text-align:center;border-top: 2px solid black">
                                        <b>Prepared By:</b>
                                    </td>
                                    <td style="float:right;width:25%;text-align:center;border-top: 2px solid black">
                                        <b>Approved By</b>
                                    </td>
                                    <br/>
                                    <br/>
                                    <tr>
                                        <td>Name :
                                            <t t-esc="o.signed_name"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Telephone :
                                            <t t-esc="o.telephone"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Signature :
                                            <t t-if="o.digital_signature">
                                                <img t-att-src="image_data_uri(o.digital_signature)"
                                                     style="max-height: 4cm; max-width: 8cm;"/>
                                            </t>
                                        </td>
                                    </tr>

                                </tr>
                            </table>

                        </div>
                    </t>
                </t>
            </t>
        </t>
    </template>
</odoo>