<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="workshop_initial_diagnosis_report">
            <t t-call="web.html_container">

        <table style="height:100px;border: 1px solid black;width:100%;padding:10px;text-align:center;">
            <tr>
                <td style="text-align:center;">
                    <img t-att-src="'data:image/png;base64,%s' % to_text(user.company_id.logo)"
                         style="width:90px; height:80px;"/>
                </td>
                <td>
                    <div style="float">
                        <h2>DIAGNOSIS REPORT</h2>
                        <br/>
                    </div>
                </td>
            </tr>
        </table>
                   <t t-foreach="docs" t-as="doc">


        <table style="border: 1px solid black;width:100%;padding:10px;">
            <tr>
                <td>
                    <div style="text-align:left;color:black!important;"><strong><span t-esc="doc.name"/></strong></div>
                </td>

            </tr>


            <tr>
                <td>Customer Name
                </td>
                <td>
                    : <t t-esc="doc.customer_name.name"/>
                </td>
                <td>Type of Machine
                </td>
                <td>
                    : <t t-esc="doc.machine_type.name"/>
                </td>
            </tr>
            <tr>
                <td>Service Deadline
                </td>
                <td>
                    : <t t-esc="doc.service_deadline"/>
                </td>
                <td>Reason
                </td>
                <td>
                    : <t t-esc="doc.repair_reason"/>
                </td>
            </tr>
        </table>
       <table style="border: 1px solid black;width:100%;padding:10px;">
           <thead>
               <tr style="border: 1px solid black;width:100%;padding:10px;">
                            <th style="text-align:left;color:black!important;">MACHINE DETAILS</th>
               </tr>
           </thead>
           <tbody>
            <tr>
                <td>Machine category
                </td>
                <td>
                    : <t t-esc="doc.category.name"/>
                </td>
                <td>Machine Type
                </td>
                <td>
                    : <t t-esc="doc.machine_type.name"/>
                </td>
            </tr>
            <tr>
                <td>KiloWatt KW
                </td>
                <td>
                    : <t t-esc="doc.kilo"/>
                </td>
                <td>Pole
                </td>
                <td>
                    : <t t-esc="doc.pole"/>
                </td>
            </tr>
            <tr>
                <td>Volt
                </td>
                <td>
                    : <t t-esc="doc.volt"/>
                </td>
                <td>Hertz
                </td>
                <td>
<!--                    : <t t-esc="doc.parts_required"/>-->
<!--                    <t t-foreach="doc.parts_required" t-as="lines">-->
<!--                        <t t-esc="lines.product_id"/>-->
<!--                    </t>-->
                </td>
            </tr>
            <tr>
                </tr>
            </tbody>
        </table>
            <table style="border: 1px solid black;width:100%;padding:10px;">
           <thead>
               <tr style="border: 1px solid black;width:100%;padding:10px;">
                                    <th style="text-align:left;color:black!important;"> PARTS REQUIRED</th>
               </tr>
           </thead>
            <tbody>
                <t t-foreach="doc.parts_required" t-as="line">
                            <tr>
                                <td>Products :
                                    <span t-esc="line.product_id.name"/>
                                </td>
                                <td>Quantity :
                                    <span t-esc="line.quantity"/>
                                </td>
                                <td>Unit :
                                    <span t-esc="line.product_unit.name"/>
                                </td>
                                <td>
                                    <span t-esc="line.cost"/>
                                </td>
                            </tr>
                </t>
                        </tbody>
        </table>
            <table style="border: 1px solid black;width:100%;padding:10px;">
           <thead>
               <tr style="border: 1px solid black;width:100%;padding:10px;">
                                    <th style="text-align:left;color:black!important;"> SERVICES</th>
               </tr>
           </thead>
            <tbody>
                            <tr t-foreach="doc.services" t-as="lines">
                                <td>Mechanical Work :
                                    <span t-esc="lines.mechanical_works.name"/>
                                </td>
                                <td>Total hrs for completion :
                                    <span t-esc="lines.total_hours"/>
                                </td>
                            </tr>
                        </tbody>
        </table>

                </t>
            </t>
    </template>
</odoo>